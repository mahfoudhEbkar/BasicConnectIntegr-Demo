{"Version":"2019-10-30","StartAction":"aca4aa8d-c1fc-4a83-a641-87dfc9a36982","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"aca4aa8d-c1fc-4a83-a641-87dfc9a36982":{"position":{"x":143.2,"y":87.2}},"21bc2ea6-7dc7-4df4-a249-8c6f8b713890":{"position":{"x":363.2,"y":91.2}},"43207b88-3961-4e77-b5f5-f5798e19e265":{"position":{"x":2100,"y":1064}},"df72a63e-9f37-4eab-9c25-33128da3b02a":{"position":{"x":1824.8,"y":868.8}},"3e0ae3d5-308d-4ea0-9a59-3b9ffd5415c5":{"position":{"x":1571.2,"y":116}},"59e90e52-ff20-4cdb-a535-7c9ab17b8973":{"position":{"x":1344.8,"y":123.2},"conditions":[],"conditionMetadata":[{"id":"ffd09149-32bd-4094-a7f4-98eda0666712","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"true"}]},"bbae19fe-edeb-4335-b821-8cddb1beed79":{"position":{"x":587.2,"y":88.8},"overrideConsoleVoice":false},"04c14031-77af-4d01-96d6-6b06fcb906d7":{"position":{"x":1092,"y":122.4},"parameters":{"LambdaFunctionARN":{"displayName":"HolidayCheck"}},"dynamicMetadata":{}},"edd154b4-1491-4d4c-a4f6-2023e871c576":{"position":{"x":817.6,"y":120}},"2262ffd1-2161-44a8-bcff-28a1028f72c6":{"position":{"x":1828.8,"y":352},"parameters":{"LexV2Bot":{"AliasArn":{"displayName":"TestBotAlias","useLexBotDropdown":true,"lexV2BotName":"ITSupport"}}},"useLexBotDropdown":true,"lexV2BotName":"ITSupport","lexV2BotAliasName":"TestBotAlias","conditionMetadata":[{"id":"bcaa3484-e105-410d-bd9b-1d721fab32cf","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"HardwareSupport"},{"id":"422923f7-0be5-4e6f-950b-3fb32ec43b59","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"SoftwareSupport"},{"id":"0428f249-1730-4e6f-83a5-faf918dc7698","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PasswordReset"},{"id":"5bcf21ca-f2aa-4d1f-95c0-21229c59526b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"OtherQueries"}]},"a0705c56-b6dd-49fa-947b-9a17d476dd91":{"position":{"x":1831.2,"y":32},"conditionMetadata":[],"countryCodePrefix":"+1"},"ff5f55d3-48e7-437a-ba8d-bce41364bdc5":{"position":{"x":2453.6,"y":-12.8},"parameters":{"QueueId":{"displayName":"BasicQueue"}},"queue":{"id":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/b572546e-1161-4c3b-90a0-fd231445e0b0","text":"BasicQueue"}},"433b35da-6be5-456e-b990-af1949852e77":{"position":{"x":2814.4,"y":96}},"b7d45cbc-e4fa-4435-b5f5-04aca065dcc0":{"position":{"x":2202.4,"y":-28}},"169375ef-3eab-40f5-a151-d7e75a229685":{"position":{"x":2812.8,"y":392}},"672e74af-f24f-490d-a1aa-1eeaf33cab99":{"position":{"x":2180.8,"y":294.4},"parameters":{"QueueId":{"displayName":"Hardware_Support"}},"queue":{"text":"Hardware_Support"}},"887f6ddc-234e-4d97-875e-6bac70a08489":{"position":{"x":2194.4,"y":492.8},"parameters":{"QueueId":{"displayName":"Software_Support"}},"queue":{"text":"Software_Support"}},"043376c6-948e-4587-b16e-e30944ecf80e":{"position":{"x":2203.2,"y":687.2},"parameters":{"QueueId":{"displayName":"Password_Reset"}},"queue":{"text":"Password_Reset"}},"06a5b6f8-7a8b-4440-b8c3-fecbac7dd4a7":{"position":{"x":2203.2,"y":878.4},"parameters":{"QueueId":{"displayName":"Other_Queries"}},"queue":{"text":"Other_Queries"}},"e9d993b7-a705-438d-be8c-26f9743a642d":{"position":{"x":2486.4,"y":412}}},"Annotations":[],"name":"ITSupportLex","description":"with Lex Bot","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"aca4aa8d-c1fc-4a83-a641-87dfc9a36982","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"21bc2ea6-7dc7-4df4-a249-8c6f8b713890"}},{"Parameters":{"RecordingBehavior":{"RecordedParticipants":[]}},"Identifier":"21bc2ea6-7dc7-4df4-a249-8c6f8b713890","Type":"UpdateContactRecordingBehavior","Transitions":{"NextAction":"bbae19fe-edeb-4335-b821-8cddb1beed79"}},{"Parameters":{},"Identifier":"43207b88-3961-4e77-b5f5-f5798e19e265","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"LoopCount":"1"},"Identifier":"df72a63e-9f37-4eab-9c25-33128da3b02a","Type":"Loop","Transitions":{"NextAction":"43207b88-3961-4e77-b5f5-f5798e19e265","Conditions":[{"NextAction":"2262ffd1-2161-44a8-bcff-28a1028f72c6","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"43207b88-3961-4e77-b5f5-f5798e19e265","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"We are closed due to holiday, "},"Identifier":"3e0ae3d5-308d-4ea0-9a59-3b9ffd5415c5","Type":"MessageParticipant","Transitions":{"NextAction":"a0705c56-b6dd-49fa-947b-9a17d476dd91","Errors":[{"NextAction":"a0705c56-b6dd-49fa-947b-9a17d476dd91","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.Holiday"},"Identifier":"59e90e52-ff20-4cdb-a535-7c9ab17b8973","Type":"Compare","Transitions":{"NextAction":"2262ffd1-2161-44a8-bcff-28a1028f72c6","Conditions":[{"NextAction":"3e0ae3d5-308d-4ea0-9a59-3b9ffd5415c5","Condition":{"Operator":"Equals","Operands":["true"]}}],"Errors":[{"NextAction":"2262ffd1-2161-44a8-bcff-28a1028f72c6","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"TextToSpeechVoice":"Joanna"},"Identifier":"bbae19fe-edeb-4335-b821-8cddb1beed79","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"edd154b4-1491-4d4c-a4f6-2023e871c576"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:559568756270:function:HolidayCheck","InvocationTimeLimitSeconds":"3","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"04c14031-77af-4d01-96d6-6b06fcb906d7","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"59e90e52-ff20-4cdb-a535-7c9ab17b8973","Errors":[{"NextAction":"59e90e52-ff20-4cdb-a535-7c9ab17b8973","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>Welcome to ABC company </speak>"},"Identifier":"edd154b4-1491-4d4c-a4f6-2023e871c576","Type":"MessageParticipant","Transitions":{"NextAction":"04c14031-77af-4d01-96d6-6b06fcb906d7","Errors":[{"NextAction":"04c14031-77af-4d01-96d6-6b06fcb906d7","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>Thank You for calling Customer IT support service. Please let us know how we can assist you today </speak>","LexV2Bot":{"AliasArn":"arn:aws:lex:us-east-1:559568756270:bot-alias/TMUL5TEUTR/TSTALIASID"}},"Identifier":"2262ffd1-2161-44a8-bcff-28a1028f72c6","Type":"ConnectParticipantWithLexBot","Transitions":{"NextAction":"43207b88-3961-4e77-b5f5-f5798e19e265","Conditions":[{"NextAction":"672e74af-f24f-490d-a1aa-1eeaf33cab99","Condition":{"Operator":"Equals","Operands":["HardwareSupport"]}},{"NextAction":"887f6ddc-234e-4d97-875e-6bac70a08489","Condition":{"Operator":"Equals","Operands":["SoftwareSupport"]}},{"NextAction":"043376c6-948e-4587-b16e-e30944ecf80e","Condition":{"Operator":"Equals","Operands":["PasswordReset"]}},{"NextAction":"06a5b6f8-7a8b-4440-b8c3-fecbac7dd4a7","Condition":{"Operator":"Equals","Operands":["OtherQueries"]}}],"Errors":[{"NextAction":"df72a63e-9f37-4eab-9c25-33128da3b02a","ErrorType":"NoMatchingCondition"},{"NextAction":"43207b88-3961-4e77-b5f5-f5798e19e265","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"5","Text":"<speak>If you want callback then please enter your 10 digit mobile number starting with area code. and we will call you once we are operational. or please call us tomorrow, Thank you</speak>","InputValidation":{"PhoneNumberValidation":{"NumberFormat":"E164"}}},"Identifier":"a0705c56-b6dd-49fa-947b-9a17d476dd91","Type":"GetParticipantInput","Transitions":{"NextAction":"b7d45cbc-e4fa-4435-b5f5-04aca065dcc0","Errors":[{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"NoMatchingError"},{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"InvalidPhoneNumber"}]}},{"Parameters":{"RetryDelaySeconds":"600","InitialCallDelaySeconds":"99","MaximumConnectionAttempts":"1","QueueId":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/b572546e-1161-4c3b-90a0-fd231445e0b0"},"Identifier":"ff5f55d3-48e7-437a-ba8d-bce41364bdc5","Type":"CreateCallbackContact","Transitions":{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","Errors":[{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"433b35da-6be5-456e-b990-af1949852e77","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"CallbackNumber":"$.StoredCustomerInput"},"Identifier":"b7d45cbc-e4fa-4435-b5f5-04aca065dcc0","Type":"UpdateContactCallbackNumber","Transitions":{"NextAction":"ff5f55d3-48e7-437a-ba8d-bce41364bdc5","Errors":[{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"InvalidCallbackNumber"},{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"CallbackNumberNotDialable"}]}},{"Parameters":{},"Identifier":"169375ef-3eab-40f5-a151-d7e75a229685","Type":"TransferContactToQueue","Transitions":{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","Errors":[{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"QueueAtCapacity"},{"NextAction":"433b35da-6be5-456e-b990-af1949852e77","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/6a530394-5680-4836-b4ce-9ef905b78adf"},"Identifier":"672e74af-f24f-490d-a1aa-1eeaf33cab99","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","Errors":[{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/48ca44e8-488e-4d97-aead-123113e2670f"},"Identifier":"887f6ddc-234e-4d97-875e-6bac70a08489","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","Errors":[{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/d8e8a173-aa40-4c00-bcfe-941ce9426234"},"Identifier":"043376c6-948e-4587-b16e-e30944ecf80e","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","Errors":[{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:559568756270:instance/4f1b892c-d30b-41c4-8148-877f65691fea/queue/f67cecfb-2d02-4208-bcd8-0fe8d833bbc5"},"Identifier":"06a5b6f8-7a8b-4440-b8c3-fecbac7dd4a7","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","Errors":[{"NextAction":"e9d993b7-a705-438d-be8c-26f9743a642d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak> Please note, Your call may be monitored for training and quality purpose</speak>"},"Identifier":"e9d993b7-a705-438d-be8c-26f9743a642d","Type":"MessageParticipant","Transitions":{"NextAction":"169375ef-3eab-40f5-a151-d7e75a229685","Errors":[{"NextAction":"169375ef-3eab-40f5-a151-d7e75a229685","ErrorType":"NoMatchingError"}]}}]}